name: flask-alert-group
interval: 30s
rules:
  - alert: AlertaTrafegoAlto
    expr: rate(flask_http_request_total[1m]) > 10
    for: 1m
    labels:
      severity: warning
    annotations:
      summary: TrÃ¡fego HTTP acima de 10 req/s

  - alert: AlertaErros5xx
    expr: rate(flask_http_request_total{status=~"5.."}[1m]) > 0
    for: 1m
    labels:
      severity: critical
    annotations:
      summary: Taxa de erros 5xx detectada
